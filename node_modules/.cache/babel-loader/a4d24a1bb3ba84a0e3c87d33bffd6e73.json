{"ast":null,"code":"var _jsxFileName = \"E:\\\\Agile Web App\\\\social media (frontend)\\\\src\\\\user\\\\Users.js\";\nimport React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport DefaultAvatar from '../images/default_avatar.png';\n\nclass Users extends Component {\n  //state to store users\n  constructor() {\n    super();\n\n    this.loadUsers = page => {\n      // list method lists all the users from the api\n      this.list(page).then(data => {\n        if (data.error) {\n          console.log(data.error);\n        } else {\n          this.setState({\n            users: data\n          });\n        }\n      });\n    };\n\n    this.loadMore = number => {\n      this.setState({\n        page: this.state.page + number\n      });\n      this.loadUsers(this.state.page + number);\n    };\n\n    this.loadLess = number => {\n      this.setState({\n        page: this.state.page - number\n      });\n      this.loadUsers(this.state.page - number);\n    };\n\n    this.list = page => {\n      return fetch(`${process.env.REACT_APP_API_URL}/users/?page=${page}`, {\n        method: \"GET\"\n      }).then(response => {\n        return response.json();\n      }).catch(err => console.log(err));\n    };\n\n    this.listUsers = users => /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 9\n      }\n    }, users.map((user, i) =>\n    /*#__PURE__*/\n    // (<div key={i}>{user.name}</div>)\n    React.createElement(\"div\", {\n      className: \"card col-md-4\",\n      key: i,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"card-body\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      style: {\n        height: \"200px\",\n        width: \"100%\"\n      },\n      className: \"img-thumbnail mb-5\",\n      src: `${process.env.REACT_APP_API_URL}/user/photo/${user._id}`,\n      onError: i => i.target.src = `${DefaultAvatar}`,\n      alt: user.name,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"h5\", {\n      className: \"card-title\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 25\n      }\n    }, user.name), /*#__PURE__*/React.createElement(\"p\", {\n      className: \"card-text\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 25\n      }\n    }, user.email), /*#__PURE__*/React.createElement(Link, {\n      to: `/user/${user._id}`,\n      className: \"btn btn-raised btn -sm btn-primary\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 25\n      }\n    }, \"VIEW PROFILE\")))));\n\n    this.state = {\n      users: [],\n      page: 1\n    };\n  } // when component mounts execute method that lists users\n\n\n  componentDidMount() {\n    this.loadUsers(this.state.page);\n  }\n\n  render() {\n    const {\n      users,\n      page\n    } = this.state;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      className: \"mt-5 mb-5\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 17\n      }\n    }, \"  \", !users.length ? \"NO MORE USERS!\" : \"USERS LIST\", \" \"), this.listUsers(users), page > 1 ? /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn btn-raised btn-warning mr-5 mt-5 mb-5\",\n      onClick: () => this.loadLess(1),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 21\n      }\n    }, \"Previous (\", this.state.page - 1, \")\") : \"\", users.length ? /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn btn-raised btn-success mt-5 mb-5\",\n      onClick: () => this.loadMore(1),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 21\n      }\n    }, \"Next (\", page + 1, \")\") : \"\");\n  }\n\n}\n\nexport default Users;","map":{"version":3,"sources":["E:/Agile Web App/social media (frontend)/src/user/Users.js"],"names":["React","Component","Link","DefaultAvatar","Users","constructor","loadUsers","page","list","then","data","error","console","log","setState","users","loadMore","number","state","loadLess","fetch","process","env","REACT_APP_API_URL","method","response","json","catch","err","listUsers","map","user","i","height","width","_id","target","src","name","email","componentDidMount","render","length"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport DefaultAvatar from '../images/default_avatar.png';\n\nclass Users extends Component {\n\n    //state to store users\n    constructor(){\n        super()\n        this.state = {\n            users:[],\n            page:1\n        }\n    }\n\n    // when component mounts execute method that lists users\n    componentDidMount(){\n        this.loadUsers(this.state.page)\n    }\n\n    loadUsers = page =>{\n        // list method lists all the users from the api\n        this.list(page).then(data =>{\n            if(data.error){console.log(data.error)}\n            else{this.setState({users:data})}\n        })\n    }\n\n    loadMore = number => {\n        this.setState({ page: this.state.page + number });\n        this.loadUsers(this.state.page + number);\n    };\n \n    loadLess = number => {\n        this.setState({ page: this.state.page - number });\n        this.loadUsers(this.state.page - number);\n    };\n\n//get all the users from api\n    list = (page) =>{\n        return fetch(`${process.env.REACT_APP_API_URL}/users/?page=${page}`,{\n            method:\"GET\",\n        })\n        .then(response =>{\n            return response.json()\n        })\n        .catch(err => console.log(err))\n    }\n\n    render() {\n        const {users, page} = this.state\n\n        return (\n            <div className =\"container\">\n                <h2 className=\"mt-5 mb-5\">  {!users.length ? \"NO MORE USERS!\" : \"USERS LIST\"} </h2>\n                {this.listUsers(users)}\n                {page > 1 ? (\n                    <button\n                        className=\"btn btn-raised btn-warning mr-5 mt-5 mb-5\"\n                        onClick={() => this.loadLess(1)}\n                    >\n                        Previous ({this.state.page - 1})\n                    </button>\n                ) : (\n                    \"\"\n                )}\n \n                {users.length ? (\n                    <button\n                        className=\"btn btn-raised btn-success mt-5 mb-5\"\n                        onClick={() => this.loadMore(1)}\n                    >\n                        Next ({page + 1})\n                    </button>\n                ) : (\n                    \"\"\n                )}\n            </div>\n        );\n    }\n\n    listUsers = users => (\n        <div className=\"row\">\n            {/* {JSON.stringify(users)} */}\n            {/* looping through users array. map function works only with array */}\n            {users.map((user,i)=> (\n                // (<div key={i}>{user.name}</div>)\n                <div className=\"card col-md-4\"  key={i}>\n                    {/* <img className=\"card-img-top\" style ={{width: \"100%\", height: \"15vw\", objectFit:\"cover\"}} src={DefaultAvatar} alt={user.name}/> */}\n                    <div className=\"card-body\">\n                    <img style = {{height: \"200px\", width: \"100%\"}} className=\"img-thumbnail mb-5\" src={`${process.env.REACT_APP_API_URL}/user/photo/${user._id}`} onError={i => (i.target.src=`${DefaultAvatar}`)} alt={user.name}/>\n                        <h5 className=\"card-title\">{user.name}</h5>\n                        <p className=\"card-text\">{user.email}</p>\n                        <Link to={`/user/${user._id}`} className=\"btn btn-raised btn -sm btn-primary\">VIEW PROFILE</Link>\n                    </div>\n                </div>\n            ))}\n        </div>\n    )\n}\n\nexport default Users;"]},"metadata":{},"sourceType":"module"}